<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€ç„¡æ–™å…¬é–‹ã€‘Zoomã‚¢ãƒç²å¾—ã®æ¥µæ„</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="alert-bar">âš  æœŸé–“é™å®šï¼šã“ã®å‹•ç”»ã¯24æ™‚é–“å¾Œã«å‰Šé™¤ã•ã‚Œã¾ã™</div>
        </header>
        
        <main>
            <div class="headline-section">
                <h1>LINEãƒªã‚¹ãƒˆã¯å¢—ãˆã‚‹ã®ã«<br><span class="highlight">Zoomã®äºˆå®šãŒåŸ‹ã¾ã‚‰ãªã„</span>ã‚ãªãŸã¸</h1>
                <p class="sub-headline">æµ·å¤–ã®æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ã€ŒAIã‚¢ãƒè»å›£ã€ã‚’ä½¿ã£ã¦ã€<br>æ—¢èª­ã‚¹ãƒ«ãƒ¼ã‚’æ’²æ»…ã—ã€æˆç´„ç‡ã‚’åŠ‡çš„ã«é«˜ã‚ã‚‹æ–¹æ³•</p>
            </div>

            <div class="vsl-placeholder">
                <div class="video-overlay">
                    <p>ğŸ‘‡ ç„¡æ–™ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°å‹•ç”»ã‚’è¦–è´ã™ã‚‹ ğŸ‘‡</p>
                </div>
                <!-- ã“ã“ã«YouTubeã‚„Vimeoã®åŸ‹ã‚è¾¼ã¿ãŒå…¥ã‚‹æƒ³å®š -->
                <div class="video-mock">
                    <div class="play-button">â–¶</div>
                </div>
            </div>

            <div class="form-section">
                <h2>ä»Šã™ãç„¡æ–™ãƒ“ãƒ‡ã‚ªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’æ‰‹ã«å…¥ã‚Œã‚‹</h2>
                <p class="form-note">â€»å‹•ç”»ã®ãƒªãƒ³ã‚¯ã¯SMSã§é€ä¿¡ã•ã‚Œã‚‹ãŸã‚ã€æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
                
                <form id="optin-form">
                    <div class="input-group">
                        <label for="name">ãŠåå‰</label>
                        <input type="text" id="name" name="name" placeholder="å±±ç”° å¤ªéƒ" required>
                    </div>
                    
                    <div class="input-group">
                        <label for="email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                        <input type="email" id="email" name="email" placeholder="example@gmail.com" required>
                    </div>

                    <div class="input-group">
                        <label for="phone">æºå¸¯é›»è©±ç•ªå· (ãƒã‚¤ãƒ•ãƒ³ãªã—)</label>
                        <input type="tel" id="phone" name="phone" placeholder="09012345678" pattern="[0-9]{10,11}" required>
                        <small>â€»AIã‚¢ãƒã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¢ä½“é¨“ã®ãŸã‚ã€æ¶é›»ãƒ†ã‚¹ãƒˆã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚</small>
                    </div>

                    <button type="submit" class="cta-button">è¦–è´ãƒªãƒ³ã‚¯ã‚’å—ã‘å–ã‚‹ &raquo;</button>
                </form>
                <div id="status-message" style="display:none; margin-top: 10px;"></div>
            </div>
        </main>

        <footer>
            <p>&copy; 2026 AI Tele-Appointment Demo. All rights reserved.</p>
        </footer>
    </div>

    <script>
        document.getElementById('optin-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value
            };

            const statusDiv = document.getElementById('status-message');
            const submitBtn = document.querySelector('.cta-button');
            
            submitBtn.disabled = true;
            submitBtn.textContent = "é€ä¿¡ä¸­...";

            try {
                const response = await fetch('/api/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                const result = await response.json();

                if (response.ok) {
                    statusDiv.style.display = 'block';
                    statusDiv.style.color = 'green';
                    statusDiv.innerHTML = '<strong>ç™»éŒ²å®Œäº†ï¼</strong><br>æ•°ç§’ä»¥å†…ã«ã€ã‚ãªãŸã®æºå¸¯é›»è©±ã«AIã‹ã‚‰ç€ä¿¡ãŒã‚ã‚Šã¾ã™ã€‚<br>ãã®ã¾ã¾å‹•ç”»ã‚’ãŠå¾…ã¡ãã ã•ã„...';
                    
                    // ã“ã“ã§ã‚µãƒ³ã‚¯ã‚¹ãƒšãƒ¼ã‚¸ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãªã©ã®å‡¦ç†
                    setTimeout(() => {
                        alert("ãƒ‡ãƒ¢: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§Vapi APIå‘¼ã³å‡ºã—ãŒå®Œäº†ã—ã¾ã—ãŸã€‚\n(APIã‚­ãƒ¼æœªè¨­å®šã®å ´åˆã¯ãƒ¢ãƒƒã‚¯å‹•ä½œ)");
                    }, 1000);
                } else {
                    throw new Error(result.message || 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');
                }
            } catch (error) {
                statusDiv.style.display = 'block';
                statusDiv.style.color = 'red';
                statusDiv.textContent = 'ã‚¨ãƒ©ãƒ¼: ' + error.message;
                submitBtn.disabled = false;
                submitBtn.textContent = "è¦–è´ãƒªãƒ³ã‚¯ã‚’å—ã‘å–ã‚‹ Â»";
            }
        });
    </script>
</body>
</html>
